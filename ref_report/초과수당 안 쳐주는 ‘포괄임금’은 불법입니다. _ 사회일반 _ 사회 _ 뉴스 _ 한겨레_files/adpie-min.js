var AdPieVersion="1.1.4";if(typeof JSON!=="object"){JSON={};(function(){var rx_one=/^[\],:{}\s]*$/;var rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g;var rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;var rx_four=/(?:^|:|,)(?:\s*\[)+/g;var rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value}var gap;var indent;var meta;var rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i;var k;var v;var length;var mind=gap;var partial;var value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k;var v;var value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);rx_dangerous.lastIndex=0;if(rx_dangerous.test(text)){text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return(typeof reviver==="function")?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}var AdPieCommon={debug:0,server:3,protocol:function(){if(window.location.protocol=="https:"){return"https://"}else{return"http://"}},closeBtnUrl:function(){if(AdPieCommon.server==1){return AdPieCommon.protocol()+"rsct.adpies.com/image/close_48_a60.png"}else{if(AdPieCommon.server==2){return AdPieCommon.protocol()+"rscs.adpies.com/image/close_48_a60.png"}else{if(AdPieCommon.server==3){return AdPieCommon.protocol()+"rsc.adpies.com/image/close_48_a60.png"}}}return AdPieCommon.protocol()+"rsc.adpies.com/image/close_48_a60.png"},configInitUrl:function(){if(AdPieCommon.server==1){return AdPieCommon.protocol()+"adpt.adpies.com/adp/config"}else{if(AdPieCommon.server==2){return AdPieCommon.protocol()+"adps.adpies.com/adp/config"}else{if(AdPieCommon.server==3){return AdPieCommon.protocol()+"adp.adpies.com/adp/config"}}}return AdPieCommon.protocol()+"adp.adpies.com/adp/config"},sspReqUrl:function(){if(AdPieCommon.server==1){return AdPieCommon.protocol()+"sspt.adpies.com/ssp/request"}else{if(AdPieCommon.server==2){return AdPieCommon.protocol()+"ssps.adpies.com/ssp/request"}else{if(AdPieCommon.server==3){return AdPieCommon.protocol()+"ssp.adpies.com/ssp/request"}}}return AdPieCommon.protocol()+"ssp.adpies.com/ssp/request"},cookieUrl:function(){if(AdPieCommon.server==1){return AdPieCommon.protocol()+"matt.adpies.com/mat/cookie?format=html&type=get&debug="+AdPieCommon.isDebug()}else{if(AdPieCommon.server==2){return AdPieCommon.protocol()+"mats.adpies.com/mat/cookie?format=html&type=get&debug="+AdPieCommon.isDebug()}else{if(AdPieCommon.server==3){return AdPieCommon.protocol()+"mat.adpies.com/mat/cookie?format=html&type=get&debug="+AdPieCommon.isDebug()}}}return AdPieCommon.protocol()+"mat.adpies.com/mat/cookie?format=html&type=get&debug="+AdPieCommon.isDebug()},secure:function(){if(window.location.protocol=="https:"){return"1"}else{return"0"}},isDebug:function(){if(AdPieCommon.debug==1){return"1"}return""},deviceType:function(){if(/Android|Mobile|iP(hone|od|ad)|BlackBerry|IEMobile|Windows Phone|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(navigator.userAgent)){return 2}else{return 1}},osVersion:"",osType:function(){if(/Android/i.test(navigator.userAgent)){var a=navigator.userAgent.match(/Android\s([0-9\.]*)/);if(a){AdPieCommon.osVersion=a[1]}return 1}else{if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var a=navigator.userAgent.match(/OS\s([0-9\_]*)/);if(a){AdPieCommon.osVersion=a[1].replace(/_/gi,".")}return 2}else{return 3}}},sdkVerNumber:function(){var b="";if(typeof AdPieVersion=="string"){var a=AdPieVersion.split(".",3);for(var c=0;c<a.length;c++){if(a[c].length==1){b+="0"+a[c]}else{b+=a[c]}}}return b},commonParams:function(){var a=[AdPieCommon.keyValuePair("dtype",AdPieCommon.deviceType()),AdPieCommon.keyValuePair("ostype",AdPieCommon.osType()),AdPieCommon.keyValuePair("osver",AdPieCommon.osVersion),AdPieCommon.keyValuePair("host",document.location.hostname),AdPieCommon.keyValuePair("sdkver",AdPieCommon.sdkVerNumber()),AdPieCommon.keyValuePair("secure",AdPieCommon.secure()),AdPieCommon.keyValuePair("debug",AdPieCommon.isDebug()),AdPieCommon.keyValuePair("format","json")].join("&");return a},log:function(a,b){if(AdPieCommon.debug==1){if(console&&typeof(console.log)=="function"){console.log("[AdPie Message]"+new Date().toLocaleString()+"#"+a+"# : "+b)}}},setCookie:function(c,j,f,g){try{var a=g?("; domain="+g):"";var i=new Date();if(typeof f=="undefined"){i.setDate(i.getDate())}else{i.setTime(i.getTime()+(f*24*60*60*1000))}var b="expires="+i.toGMTString();document.cookie=c+"="+j+"; "+b+"; path=/"+a}catch(h){}},getCookie:function(d){try{var b=d+"=";var a=document.cookie.split(";");for(var f=0;f<a.length;f++){var h=a[f];while(h.charAt(0)==" "){h=h.substring(1)}if(h.indexOf(b)==0){return h.substring(b.length,h.length)}}}catch(g){}return""},isEnableCookie:function(){AdPieCommon.setCookie("adpie","test","1",undefined);if(AdPieCommon.getCookie("adpie")=="test"){AdPieCommon.setCookie("adpie","test",undefined,undefined);return true}else{return false}},isEnableStorage:function(){try{if(("localStorage" in window)&&window.localStorage!==null){return true}}catch(a){}return false},generateUUID:function(){var b=new Date().getTime();var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=(b+Math.random()*16)%16|0;b=Math.floor(b/16);return(e=="x"?d:(d&3|8)).toString(16)});return a},addEvent:function(a,b,d){try{if(a==null||typeof(a)=="undefined"){return}if(a.addEventListener){a.addEventListener(b,d,false);AdPieCommon.log("addEvent","[addEventListener] object : "+a+", type : "+b)}else{if(a.attachEvent){a.attachEvent("on"+b,d);AdPieCommon.log("addEvent","[attachEvent] object : "+a+", type : "+b)}else{a["on"+b]=d;AdPieCommon.log("addEvent","[etc] object : "+a+", type : "+b)}}}catch(c){AdPieCommon.log("addEvent","e : "+c.toString())}},async:function(b,f,c,g){try{var a=false;var d;if(window.XDomainRequest){try{d=new XDomainRequest();a=true}catch(k){try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(j){try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(i){d=null}}}}else{if(window.ActiveXObject){try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(k){try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(j){d=null}}}else{if(window.XMLHttpRequest){try{d=new XMLHttpRequest()}catch(k){d=null}}}}if(a){d.timeout=5000;d.onload=function(){AdPieCommon.log("async","request.responseText : "+d.responseText);c(d.responseText)};d.onerror=function(){AdPieCommon.log("async","error event!");g()};d.ontimeout=function(){AdPieCommon.log("async","timeout event!");g()};d.open("GET",f?b+"?"+f:b,1);d.send(f)}else{d.onreadystatechange=function(){if(d.readyState===4){AdPieCommon.log("async","request.status : "+d.status);if(d.status===200){AdPieCommon.log("async","request.responseText : "+d.responseText);c(d.responseText)}else{if(d.status==204){g()}else{if(d.status>=400){g()}}}}};if(d.timeout){d.timeout=5000}d.open(f?"POST":"GET",b,1);AdPieCommon.addEvent(d,"error",function(){AdPieCommon.log("async","error event!");g()});AdPieCommon.addEvent(d,"timeout",function(){AdPieCommon.log("async","timeout event!");g()});d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.send(f)}}catch(h){AdPieCommon.log("async",h.name+": "+h.message)}},trim:function(a){return a.replace(/^\s+|\s+$/gm,"")},jsQueue:function(){var a=[];var b=0;this.getLength=function(){return(a.length-b)};this.isEmpty=function(){return(a.length==0)};this.enqueue=function(c){a.push(c)};this.dequeue=function(){if(a.length==0){return undefined}var c=a[b];if(++b*2>=a.length){a=a.slice(b);b=0}return c};this.peek=function(){return(a.length>0?a[b]:undefined)}},getUniqueID:function(){try{if(AdPieCommon.isWebView()){try{AdPieConfig.udid=AdPieSDK.getUdid();AdPieConfig.udidType=AdPieSDK.getUdidType();AdPieConfig.isDoNotTracking=AdPieSDK.isDoNotTracking();AdPieConfig.appPackageName=AdPieSDK.getAppPackageName();AdPieConfig.appVersionName=AdPieSDK.getAppVersionName();AdPieConfig.manufacturer=AdPieSDK.getManufacturer();AdPieConfig.model=AdPieSDK.getModel();AdPieConfig.serviceProvider=AdPieSDK.getServiceProvider();AdPieConfig.countryCode=AdPieSDK.getCountryCode();AdPieConfig.language=AdPieSDK.getLanguage();AdPieConfig.connectionType=AdPieSDK.getConnectionType();AdPieConfig.deviceWidth=AdPieSDK.getDeviceWidth();AdPieConfig.deviceHeight=AdPieSDK.getDeviceHeight()}catch(b){AdPieCommon.log("getUniqueID","e : "+b.toString())}}else{if(AdPieCommon.isEnableCookie()){AdPieConfig.adpie_oaid=AdPieCommon.getCookie("adpie_oaid");AdPieCommon.log("getUniqueID","site cookie[adpie_oaid] : "+AdPieConfig.adpie_oaid)}if(AdPieConfig.adpie_oaid==""&&AdPieCommon.isEnableStorage()){AdPieConfig.adpie_oaid=localStorage.getItem("adpie_oaid");AdPieCommon.log("getUniqueID","localStorage[adpie_oaid] : "+AdPieConfig.adpie_oaid)}}}catch(a){AdPieCommon.log("getUniqueID","e : "+a.toString())}},body:function(){return document.body||document.getElementsByTagName("body")[0]},dateFormat:function(x,y){var z={M:x.getMonth()+1,d:x.getDate(),h:x.getHours(),m:x.getMinutes(),s:x.getSeconds()};y=y.replace(/(M+|d+|h+|m+|s+)/g,function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)});return y.replace(/(y+)/g,function(v){return x.getFullYear().toString().slice(-v.length)})},isWebView:function(){if(AdPieCommon.osType()=="1"){if(/Version\/(\d+\.)+/.test(navigator.userAgent)){return true}else{return false}}else{if(AdPieCommon.osType()=="2"){var a=navigator.standalone;var b=/Safari/.test(navigator.userAgent);if(!a&&!b){return true}else{if(!a&&b){return false}else{return false}}}else{return false}}},keyValuePair:function(a,b){return encodeURIComponent(a)+"="+encodeURIComponent(b)},md5:function(aq){function ac(e,f){return(e<<f)|(e>>>(32-f))}function ad(i,f){var g,l,j,h,e;j=(i&2147483648);h=(f&2147483648);g=(i&1073741824);l=(f&1073741824);e=(i&1073741823)+(f&1073741823);if(g&l){return(e^2147483648^j^h)}if(g|l){if(e&1073741824){return(e^3221225472^j^h)}else{return(e^1073741824^j^h)}}else{return(e^j^h)}}function ar(g,f,e){return(g&f)|((~g)&e)}function at(g,f,e){return(g&e)|(f&(~e))}function au(g,f,e){return(g^f^e)}function aw(g,f,e){return(f^(g|(~e)))}function ao(h,i,l,j,e,g,f){h=ad(h,ad(ad(ar(i,l,j),e),f));return ad(ac(h,g),i)}function aD(h,i,l,j,e,g,f){h=ad(h,ad(ad(at(i,l,j),e),f));return ad(ac(h,g),i)}function ag(h,i,l,j,e,g,f){h=ad(h,ad(ad(au(i,l,j),e),f));return ad(ac(h,g),i)}function ap(h,i,l,j,e,g,f){h=ad(h,ad(ad(aw(i,l,j),e),f));return ad(ac(h,g),i)}function aE(m){var f;var n=m.length;var i=n+8;var g=(i-(i%64))/64;var j=(g+1)*16;var e=Array(j-1);var h=0;var l=0;while(l<n){f=(l-(l%4))/4;h=(l%4)*8;e[f]=(e[f]|(m.charCodeAt(l)<<h));l++}f=(l-(l%4))/4;h=(l%4)*8;e[f]=e[f]|(128<<h);e[j-2]=n<<3;e[j-1]=n>>>29;return e}function ai(e){var f="",h="",g,i;for(i=0;i<=3;i++){g=(e>>>(i*8))&255;h="0"+g.toString(16);f=f+h.substr(h.length-2,2)}return f}function ae(f){f=f.replace(/rn/g,"n");var h="";for(var g=0;g<f.length;g++){var e=f.charCodeAt(g);if(e<128){h+=String.fromCharCode(e)}else{if((e>127)&&(e<2048)){h+=String.fromCharCode((e>>6)|192);h+=String.fromCharCode((e&63)|128)}else{h+=String.fromCharCode((e>>12)|224);h+=String.fromCharCode(((e>>6)&63)|128);h+=String.fromCharCode((e&63)|128)}}}return h}var ah=Array();var I,aB,af,an,aC,a,b,c,d;var F=7,H=12,aa=17,ab=22;var aj=5,ak=9,al=14,am=20;var av=4,ax=11,ay=16,az=23;var k=6,x=10,G=15,Z=21;aq=ae(aq);ah=aE(aq);a=1732584193;b=4023233417;c=2562383102;d=271733878;for(I=0;I<ah.length;I+=16){aB=a;af=b;an=c;aC=d;a=ao(a,b,c,d,ah[I+0],F,3614090360);d=ao(d,a,b,c,ah[I+1],H,3905402710);c=ao(c,d,a,b,ah[I+2],aa,606105819);b=ao(b,c,d,a,ah[I+3],ab,3250441966);a=ao(a,b,c,d,ah[I+4],F,4118548399);d=ao(d,a,b,c,ah[I+5],H,1200080426);c=ao(c,d,a,b,ah[I+6],aa,2821735955);b=ao(b,c,d,a,ah[I+7],ab,4249261313);a=ao(a,b,c,d,ah[I+8],F,1770035416);d=ao(d,a,b,c,ah[I+9],H,2336552879);c=ao(c,d,a,b,ah[I+10],aa,4294925233);b=ao(b,c,d,a,ah[I+11],ab,2304563134);a=ao(a,b,c,d,ah[I+12],F,1804603682);d=ao(d,a,b,c,ah[I+13],H,4254626195);c=ao(c,d,a,b,ah[I+14],aa,2792965006);b=ao(b,c,d,a,ah[I+15],ab,1236535329);a=aD(a,b,c,d,ah[I+1],aj,4129170786);d=aD(d,a,b,c,ah[I+6],ak,3225465664);c=aD(c,d,a,b,ah[I+11],al,643717713);b=aD(b,c,d,a,ah[I+0],am,3921069994);a=aD(a,b,c,d,ah[I+5],aj,3593408605);d=aD(d,a,b,c,ah[I+10],ak,38016083);c=aD(c,d,a,b,ah[I+15],al,3634488961);b=aD(b,c,d,a,ah[I+4],am,3889429448);a=aD(a,b,c,d,ah[I+9],aj,568446438);d=aD(d,a,b,c,ah[I+14],ak,3275163606);c=aD(c,d,a,b,ah[I+3],al,4107603335);b=aD(b,c,d,a,ah[I+8],am,1163531501);a=aD(a,b,c,d,ah[I+13],aj,2850285829);d=aD(d,a,b,c,ah[I+2],ak,4243563512);c=aD(c,d,a,b,ah[I+7],al,1735328473);b=aD(b,c,d,a,ah[I+12],am,2368359562);a=ag(a,b,c,d,ah[I+5],av,4294588738);d=ag(d,a,b,c,ah[I+8],ax,2272392833);c=ag(c,d,a,b,ah[I+11],ay,1839030562);b=ag(b,c,d,a,ah[I+14],az,4259657740);a=ag(a,b,c,d,ah[I+1],av,2763975236);d=ag(d,a,b,c,ah[I+4],ax,1272893353);c=ag(c,d,a,b,ah[I+7],ay,4139469664);b=ag(b,c,d,a,ah[I+10],az,3200236656);a=ag(a,b,c,d,ah[I+13],av,681279174);d=ag(d,a,b,c,ah[I+0],ax,3936430074);c=ag(c,d,a,b,ah[I+3],ay,3572445317);b=ag(b,c,d,a,ah[I+6],az,76029189);a=ag(a,b,c,d,ah[I+9],av,3654602809);d=ag(d,a,b,c,ah[I+12],ax,3873151461);c=ag(c,d,a,b,ah[I+15],ay,530742520);b=ag(b,c,d,a,ah[I+2],az,3299628645);a=ap(a,b,c,d,ah[I+0],k,4096336452);d=ap(d,a,b,c,ah[I+7],x,1126891415);c=ap(c,d,a,b,ah[I+14],G,2878612391);b=ap(b,c,d,a,ah[I+5],Z,4237533241);a=ap(a,b,c,d,ah[I+12],k,1700485571);d=ap(d,a,b,c,ah[I+3],x,2399980690);c=ap(c,d,a,b,ah[I+10],G,4293915773);b=ap(b,c,d,a,ah[I+1],Z,2240044497);a=ap(a,b,c,d,ah[I+8],k,1873313359);d=ap(d,a,b,c,ah[I+15],x,4264355552);c=ap(c,d,a,b,ah[I+6],G,2734768916);b=ap(b,c,d,a,ah[I+13],Z,1309151649);a=ap(a,b,c,d,ah[I+4],k,4149444226);d=ap(d,a,b,c,ah[I+11],x,3174756917);c=ap(c,d,a,b,ah[I+2],G,718787259);b=ap(b,c,d,a,ah[I+9],Z,3951481745);a=ad(a,aB);b=ad(b,af);c=ad(c,an);d=ad(d,aC)}var aA=ai(a)+ai(b)+ai(c)+ai(d);return aA.toLowerCase()}};var AdPieAdController={init:function(scriptUrl){var curScript=document.currentScript||(function(){var scripts=document.getElementsByTagName("script");if(scriptUrl){for(var i=0;i<scripts.length;i++){if(scripts[i].src&&scripts[i].src==scriptUrl){return scripts[i]}}}else{return scripts[scripts.length-1]}})();if(curScript&&curScript.src){var lqs={};if(document.location.search.indexOf("?")>=0){lqs=(function(a){if(a==""){return{}}var b={};for(var i=0;i<a.length;++i){var p=a[i].split("=",2);if(p[1]){try{p[1]=decodeURIComponent(p[1].replace(/\+/g," "))}catch(e){}}b[p[0]]=p[1]}return b})((document.location.search.split("?"))[1].split("&"))}var qs=(function(a){if(a==""){return{}}var b={};for(var i=0;i<a.length;++i){var p=a[i].split("=",2);if(p[1]){try{p[1]=decodeURIComponent(p[1].replace(/\+/g," "))}catch(e){}}b[p[0]]=p[1]}return b})((curScript.src.split("?"))[1].split("&"));AdPieCommon.debug=(qs.debug&&qs.debug.toLowerCase()=="y")?1:0;if(AdPieCommon.isEnableStorage()){var adpie=localStorage.getItem("adpie");if(adpie&&AdPieCommon.md5(adpie)=="759ad2e9cdee45ab9432e4327facb5bc"){AdPieCommon.debug=1}}AdPieCommon.log("init","debug : "+qs.debug);AdPieCommon.log("init","curScript parentNode tagName : "+curScript.parentNode.tagName.toLowerCase());if(curScript.parentNode&&curScript.parentNode.tagName.toLowerCase()==="head"){var loadEvent=function(){try{AdPieCommon.body().insertBefore(curScript,AdPieCommon.body().childNodes[0]||null);AdPieAdController&&AdPieAdController.init(curScript.src)}catch(e){AdPieCommon.log("init","e : "+e.toString())}};AdPieCommon.addEvent(window,"load",loadEvent);return}AdPieCommon.log("init","curScript.src : "+curScript.src);if(typeof AdPieServer=="string"){if(AdPieServer.toLowerCase()=="dev"){AdPieCommon.server=1}else{if(AdPieServer.toLowerCase()=="staging"){AdPieCommon.server=2}else{if(AdPieServer.toLowerCase()=="product"){AdPieCommon.server=3}}}}AdPieCommon.log("init","deviceType : "+AdPieCommon.deviceType());AdPieCommon.log("init","mediaType : "+AdPieCommon.mediaType);AdPieCommon.log("init","osType : "+AdPieCommon.osType());AdPieCommon.log("init","mediaId : "+qs.mediaId);AdPieCommon.log("init","slotId : "+qs.slotId);AdPieCommon.log("init","bgColorEnable : "+qs.bgColorEnable);AdPieCommon.log("init","adType : "+qs.adType);AdPieCommon.log("init","width : "+qs.width);AdPieCommon.log("init","height : "+qs.height);AdPieCommon.log("init","autoCloseTime : "+qs.autoCloseTime);AdPieCommon.log("init","closeBtnEnable : "+qs.closeBtnEnable);AdPieCommon.log("init","closeBtnPosition : "+qs.closeBtnPosition);AdPieCommon.log("init","alignX : "+qs.alignX);AdPieCommon.log("init","alignY : "+qs.alignY);AdPieCommon.log("init","offsetX : "+qs.offsetX);AdPieCommon.log("init","offsetY : "+qs.offsetY);AdPieCommon.log("init","successCallback : "+qs.successCallback);AdPieCommon.log("init","errorCallback : "+qs.errorCallback);AdPieCommon.log("init","passback : "+qs.passback);if(!qs.mediaId){AdPieCommon.log("init","Check your media ID!");try{if(qs.errorCallback){eval(qs.errorCallback).call()}}catch(e){AdPieCommon.log("init",e.name+": "+e.message)}return}if(!qs.slotId){AdPieCommon.log("init","Check your slot ID!");try{if(qs.errorCallback){eval(qs.errorCallback).call()}}catch(e){AdPieCommon.log("init",e.name+": "+e.message)}return}var key="AdPie_"+(qs.mediaId+"_"+qs.slotId);window[key]={};window[key].curScript=curScript;window[key].mid=qs.mediaId;window[key].sid=qs.slotId;window[key].bgColorEnable=qs.bgColorEnable;window[key].adType=qs.adType;window[key].width=qs.width;window[key].height=qs.height;window[key].autoCloseTime=qs.autoCloseTime;window[key].closeBtnEnable=qs.closeBtnEnable;window[key].closeBtnPosition=qs.closeBtnPosition;window[key].closeBtnEnable=qs.c;window[key].alignX=qs.alignX;window[key].alignY=qs.alignY;window[key].offsetX=qs.offsetX;window[key].offsetY=qs.offsetY;window[key].zIndex=qs.zIndex;window[key].successCallback=qs.successCallback;window[key].errorCallback=qs.errorCallback;window[key].passback=qs.passback;window[key].notifySuccess=function(){AdPieCommon.log("notifySuccess :",window[key].mid+"_"+window[key].sid);if(window[key].successCallback){try{eval(window[key].successCallback).call()}catch(e){AdPieCommon.log("notifySuccess",e.name+": "+e.message)}}if(window[key].adType&&window[key].adType=="banner"){if(window[key].interval&&window[key].interval>0){window[key].reload()}}};window[key].notifyError=function(){AdPieCommon.log("notifyError :",window[key].mid+"_"+window[key].sid);if(window[key].errorCallback){try{eval(window[key].errorCallback).call()}catch(e){AdPieCommon.log("notifyError",e.name+": "+e.message)}}if(window[key].adType&&window[key].adType=="banner"){if(window[key].interval&&window[key].interval>0){window[key].reload()}}};window[key].reload=function(){AdPieCommon.log("reload",window[key].mid+"_"+window[key].sid+", interval : "+window[key].interval);var interval=window[key].interval;var ten_seconds_millis=10000;var five_minutes_millis=300000;if(interval>0&&interval<ten_seconds_millis){interval=ten_seconds_millis}else{if(interval>five_minutes_millis){interval=five_minutes_millis}}if(interval>=ten_seconds_millis){setTimeout(function(){AdPieAdController.loadAd(window[key])},interval)}};if(typeof AdPieConfig=="undefined"){var AdPieConfigScript=document.createElement("script");AdPieConfigScript.text="				var AdPieConfig = { 					isInitialized : false, 					adpie_oaid : '', 					udid : '', 					udidType : '', 					appPackageName : '', 					appVersionName : '', 					manufacturer : '', 					model : '', 					serviceProvider : '', 					countryCode : '', 					language : '', 					connectionType : '', 					deviceWidth : '', 					deviceHeight : '' 				};";curScript.parentNode.insertBefore(AdPieConfigScript,window[key].curScript)}if(typeof AdPieConfig=="object"){AdPieCommon.log("init","AdPieConfig.isInitialized : "+AdPieConfig.isInitialized);if(!AdPieConfig.isInitialized){AdPieCommon.log("init","new Date() : "+AdPieCommon.dateFormat(new Date(),"yyyy-MM-dd"));AdPieCommon.log("init","isEnableCookie : "+AdPieCommon.isEnableCookie()+", isEnableStorage : "+AdPieCommon.isEnableStorage()+", isWebView : "+AdPieCommon.isWebView());if(AdPieCommon.isEnableCookie()||AdPieCommon.isEnableStorage()){var isMatConnection=false;if(!AdPieCommon.isWebView()){if(AdPieCommon.isEnableCookie()){AdPieConfig.adpie_oaid=AdPieCommon.getCookie("adpie_oaid");AdPieCommon.log("init","site cookie[adpie_oaid] : "+AdPieConfig.adpie_oaid);if(AdPieConfig.adpie_oaid==""){isMatConnection=true}}if(!isMatConnection&&AdPieCommon.isEnableStorage()){AdPieConfig.adpie_oaid=localStorage.getItem("adpie_oaid");AdPieCommon.log("init","localStorage[adpie_oaid] : "+AdPieConfig.adpie_oaid);if(AdPieConfig.adpie_oaid==""){isMatConnection=true}else{var matDate=localStorage.getItem("adpie_mat_date");AdPieCommon.log("init","MAT Date : "+matDate);if(matDate==""||matDate!=AdPieCommon.dateFormat(new Date(),"yyyy-MM-dd")){isMatConnection=true}}}var listenMessage=function(evt){try{var data=evt.data;AdPieCommon.log("init","data:"+data);AdPieCommon.log("init","origin:"+evt.origin);if(data.indexOf("adpie_oaid:")>=0){AdPieConfig.adpie_oaid=data.replace("adpie_oaid:","");try{if(AdPieCommon.isEnableCookie()){AdPieCommon.setCookie("adpie_oaid",AdPieConfig.adpie_oaid,"1",undefined)}if(AdPieCommon.isEnableStorage()){localStorage.setItem("adpie_oaid",AdPieConfig.adpie_oaid);localStorage.setItem("adpie_mat_date",AdPieCommon.dateFormat(new Date(),"yyyy-MM-dd"))}}catch(e2){}}}catch(e1){AdPieCommon.log("init","listenMessage - e : "+e1.toString())}};AdPieCommon.addEvent(window,"message",listenMessage);var newIframe=document.createElement("iframe");newIframe.id="iframe_adpie_uid";newIframe.src=AdPieCommon.cookieUrl();newIframe.style.display="none";newIframe.width="1px";newIframe.height="1px";newIframe.frameBorder=0;if(isMatConnection){AdPieCommon.log("init","MAT connection");AdPieCommon.body().appendChild(newIframe)}}}AdPieConfig.isInitialized=true;AdPieAdController.loadAd(window[key])}else{AdPieAdController.loadAd(window[key])}}}},loadAd:function(f){AdPieCommon.log("loadAd",f.mid+"_"+f.sid);if(typeof f.width=="undefined"||typeof f.height=="undefined"){AdPieCommon.log("loadAd","Check your slot size!");f.notifyError();return}if(f.adType=="interstitial"){if(!AdPieAdView.checkIntersSize(f.width,f.height)){AdPieCommon.log("createInterstitial","Check your screen size!");f.notifyError();return}}try{var a=document.getElementById("iframe_adpie_uid");if(a){a.contentWindow.postMessage("get_adpie_uid","*")}}catch(c){}AdPieCommon.getUniqueID();var b=[AdPieCommon.commonParams(),AdPieCommon.keyValuePair("mid",f.mid),AdPieCommon.keyValuePair("sid",f.sid)];if(AdPieCommon.isWebView()){b.push(AdPieCommon.keyValuePair("webview","1"));if(AdPieConfig.udid&&AdPieConfig.udidType){b.push(AdPieCommon.keyValuePair("udid",AdPieConfig.udid));b.push(AdPieCommon.keyValuePair("udidtype",AdPieConfig.udidType));if(AdPieConfig.isDoNotTracking){b.push(AdPieCommon.keyValuePair("dnt","1"))}else{b.push(AdPieCommon.keyValuePair("dnt","0"))}if(AdPieConfig.appPackageName){b.push(AdPieCommon.keyValuePair("bundle",AdPieConfig.appPackageName))}if(AdPieConfig.appVersionName){b.push(AdPieCommon.keyValuePair("ver",AdPieConfig.appVersionName))}if(AdPieConfig.manufacturer){b.push(AdPieCommon.keyValuePair("make",AdPieConfig.manufacturer))}if(AdPieConfig.model){b.push(AdPieCommon.keyValuePair("mo",AdPieConfig.model))}if(AdPieConfig.serviceProvider){b.push(AdPieCommon.keyValuePair("carrier",AdPieConfig.serviceProvider))}if(AdPieConfig.countryCode){b.push(AdPieCommon.keyValuePair("cc",AdPieConfig.countryCode))}if(AdPieConfig.language){b.push(AdPieCommon.keyValuePair("lo",AdPieConfig.language))}if(AdPieConfig.connectionType&&AdPieConfig.connectionType>0){b.push(AdPieCommon.keyValuePair("connectiontype",AdPieConfig.connectionType))}if(AdPieConfig.deviceWidth&&AdPieConfig.deviceHeight){if(AdPieConfig.deviceWidth>0&&AdPieConfig.deviceHeight>0){b.push(AdPieCommon.keyValuePair("dw",AdPieConfig.deviceWidth));b.push(AdPieCommon.keyValuePair("dh",AdPieConfig.deviceHeight))}}}}else{b.push(AdPieCommon.keyValuePair("webview","0"));if(AdPieConfig.adpie_oaid){b.push(AdPieCommon.keyValuePair("oaid",AdPieConfig.adpie_oaid))}}if(f.passback){b.push(AdPieCommon.keyValuePair("passback",f.passback))}var d=b.join("&");AdPieCommon.log("loadAd",AdPieCommon.sspReqUrl()+"?"+d);AdPieCommon.async(AdPieCommon.sspReqUrl(),d,function(g){try{var k=f.mid+"_"+f.sid;if(AdPieCommon.trim(g)==""){AdPieCommon.log("loadAd","No data.");f.notifyError();return}var j=JSON.parse(g);AdPieCommon.log("loadAd","obj.result : "+j.result);try{if(j.data&&j.data.interval){AdPieCommon.log("loadAd","interval : "+j.data.interval);f.interval=j.data.interval}}catch(i){}if(j.result==0){AdPieCommon.log("loadAd","count : "+j.data.count);if(j.data.count==1){if(j.data.ad.ctype==1){if(j.data.ad.adm){if(f.adType=="banner"){AdPieAdView.createBanner(f,k,{adm:j.data.ad.adm,url:j.data.ad.redirect})}else{if(f.adType=="floating"){AdPieAdView.createFloating(f,k,{adm:j.data.ad.adm,url:j.data.ad.redirect})}else{if(f.adType=="interstitial"){AdPieAdView.createInterstitial(f,k,{adm:j.data.ad.adm,url:j.data.ad.redirect})}else{f.notifyError();return}}}}else{f.notifyError()}}else{f.notifyError()}}else{f.notifyError()}}else{if(j.result==204){AdPieCommon.log("loadAd","No ads.");f.notifyError()}else{f.notifyError()}}}catch(h){AdPieCommon.log("loadAd","e : "+h.toString());f.notifyError()}},function(){AdPieCommon.log("loadAd","Server Error");f.notifyError()})}};var AdPieAdView={floatingzIndex:2000000,interstitialzIndex:3000000,convertAd:function(b){var a;if(b.indexOf("<iframe")>=0){a=b}else{if(b.indexOf("</html>")>0){a=b}else{if(b.indexOf("</body>")>0){a=["<html>",b,"</html>"].join("\n")}else{a=["<html><body style='margin:0px;padding:0px;'>",b,"</body></html>"].join("\n")}}}return a},removeDivFromId:function(a){var b=document.getElementById(a);AdPieCommon.log("removeDivFromId","divId : "+a);AdPieAdView.removeDiv(b)},removeDiv:function(b){try{if(b){AdPieCommon.log("removeDiv","div : "+b);b.parentNode.removeChild(b)}}catch(a){}},setIframeZoom:function(b,a){try{var c=Math.floor((b.width/a)*100);var f=(b.contentWindow||b.contentDocument);if(f.document){f=f.document}f.body.style="zoom:"+c+"%;"}catch(d){AdPieCommon.log("setIframeZoom",d.name+": "+d.message)}},checkIntersSize:function(b,a){try{var c=window.innerWidth||document.documentElement.clientWidth||AdPieCommon.body().clientWidth;var f=window.innerHeight||document.documentElement.clientHeight||AdPieCommon.body().clientHeight;AdPieCommon.log("checkIntersSize","screenWidth : "+c+", screenHeight : "+f);if(b&&a){if(c<b||f<a){return false}else{return true}}}catch(d){AdPieCommon.log("checkIntersSize",d.name+": "+d.message)}return false},setIframeResize:function(g,d){try{if(d.width&&d.height){var a=window.innerWidth||document.documentElement.clientWidth||AdPieCommon.body().clientWidth;var f=window.innerHeight||document.documentElement.clientHeight||AdPieCommon.body().clientHeight;if(a<d.width||f<d.height){if(a<f){var c=a;var b=(a*d.height)/d.width;if(b>f){g.width=(a*f)/b;g.height=f}else{g.width=c;g.height=b}}else{var c=(f*d.width)/d.height;var b=f;if(c>a){g.width=a;g.height=(a*f)/c}else{g.width=c;g.height=b}}}else{g.width=d.width;g.height=d.height}g.width=Math.floor(g.width);g.height=Math.floor(g.height)}}catch(i){AdPieCommon.log("setIframeResize",i.name+": "+i.message)}},setDivPosition:function(g,b,a,d){try{d=d||{};var c=b+"_"+a;AdPieCommon.log("setDivPosition","alignType : "+c);if(g){switch(c){case"left_top":g.style.position="absolute";g.style.left="0px";g.style.top="0px";g.style.marginLeft=d.offsetX+"px"||"0px";g.style.marginTop=d.offsetY+"px"||"0px";break;case"center_top":g.style.position="absolute";g.style.margin="auto";g.style.left="0px";g.style.top="0px";g.style.right="0px";g.style.marginTop=d.offsetY+"px"||"0px";break;case"right_top":g.style.position="absolute";g.style.top="0px";g.style.right="0px";g.style.marginRight=d.offsetX+"px"||"0px";g.style.marginTop=d.offsetY+"px"||"0px";break;case"left_center":g.style.position="absolute";g.style.margin="auto";g.style.top="0px";g.style.left="0px";g.style.bottom="0px";g.style.marginLeft=d.offsetX+"px"||"0px";break;case"center_center":g.style.position="absolute";g.style.margin="auto";g.style.top="0px";g.style.left="0px";g.style.bottom="0px";g.style.right="0px";break;case"right_center":g.style.position="absolute";g.style.margin="auto";g.style.top="0px";g.style.right="0px";g.style.bottom="0px";g.style.marginRight=d.offsetX+"px"||"0px";break;case"left_bottom":g.style.position="absolute";g.style.left="0px";g.style.bottom="0px";g.style.marginLeft=d.offsetX+"px"||"0px";g.style.marginBottom=d.offsetY+"px"||"0px";break;case"center_bottom":g.style.position="absolute";g.style.left="0px";g.style.right="0px";g.style.marginLeft="auto";g.style.marginRight="auto";g.style.bottom="0px";g.style.marginBottom=d.offsetY+"px"||"0px";break;case"right_bottom":g.style.position="absolute";g.style.right="0px";g.style.bottom="0px";g.style.marginRight=d.offsetX+"px"||"0px";g.style.marginBottom=d.offsetY+"px"||"0px";break;default:g.style.position="absolute";g.style.margin="auto";g.style.top="0px";g.style.left="0px";g.style.bottom="0px";g.style.right="0px"}}}catch(f){}},addCloseButton:function(c,g,e,b,a){if(g){var f="btn_"+c;AdPieAdView.removeDivFromId(f);var d=document.createElement("IMG");d.id=f;d.style.display="block";d.style.border="none";d.src=AdPieCommon.closeBtnUrl();d.width=e;d.height=b;d.style.padding="0px";d.style.cursor="pointer";AdPieAdView.setDivPosition(d,a,"top");g.parentNode.appendChild(d);d.onclick=function(){AdPieAdView.removeDivFromId(c)}}},writeToIframe:function(b,a){AdPieCommon.log("writeToIframe","iframe.isAdLoaded : "+b.isAdLoaded);if(b.isAdLoaded){return}b.isAdLoaded=true;b.sandbox="allow-same-origin allow-forms allow-top-navigation allow-popups allow-scripts";var c=(b.contentWindow)?b.contentWindow:(b.contentDocument.document)?b.contentDocument.document:b.contentDocument;c.document.open();c.document.write(a);c.document.close()},createBanner:function(h,c,b){try{b=b||{};AdPieAdView.removeDivFromId(c);var g=document.createElement("div");g.id=c;g.style.display="block";g.style.border="none";g.style.width=h.width+"px"||"100%";g.style.height=h.height+"px"||"100%";g.style.position="relative";g.style.padding="0px";g.style.margin="auto";g.style.overflow="hidden";h.curScript.parentNode.insertBefore(g,h.curScript);var d=document.createElement("iframe");d.id="iframe_"+c;d.name="iframe_"+c+"_"+new Date().getTime();d.style.display="block";d.width=h.width+"px"||"100%";d.height=h.height+"px"||"100%";d.frameBorder=0;AdPieAdView.setDivPosition(d,h.alignX||"center",h.alignY||"center");d.style.padding="0px";d.style.border="none";d.scrolling="no";d.style.overflow="hidden";if(b.url){d.src=b.url;g.appendChild(d)}else{if(b.adm){var a=AdPieAdView.convertAd(b.adm);AdPieCommon.log("createBanner","convert Adm:"+a);g.appendChild(d);AdPieAdView.writeToIframe(d,a)}else{h.notifyError();return}}h.notifySuccess()}catch(f){AdPieCommon.log("createBanner",f.name+": "+f.message);h.notifyError()}},createFloating:function(i,d,c){try{c=c||{};AdPieAdView.removeDivFromId(d);var h=document.createElement("div");h.id=d;h.style.display="block";h.style.border="none";h.style.width=i.width+"px"||"100%";h.style.height=i.height+"px"||"100%";h.style.position="fixed";h.style.zIndex=i.zIndex||AdPieAdView.floatingzIndex;h.style.margin="0px";h.style.padding="0px";h.style.overflow="hidden";AdPieCommon.body().appendChild(h);AdPieAdView.setDivPosition(h,i.alignX||"left",i.alignY||"top",{offsetX:i.offsetX,offsetY:i.offsetY});h.style.position="fixed";var b=document.createElement("div");b.style.display="block";b.style.border="none";b.style.width=i.width+"px"||"100%";b.style.height=i.height+"px"||"100%";h.appendChild(b);var f=document.createElement("iframe");f.id="iframe_"+d;f.name="iframe_"+d+"_"+new Date().getTime();f.style.display="block";f.width=i.width||"100%";f.height=i.height||"100%";f.frameBorder=0;f.style.padding="0px";f.style.border="none";f.scrolling="no";f.style.overflow="hidden";if(c.url){f.src=c.url;b.appendChild(f)}else{if(c.adm){var a=AdPieAdView.convertAd(c.adm);AdPieCommon.log("createFloating","convert Adm:"+a);b.appendChild(f);AdPieAdView.writeToIframe(f,a)}else{i.notifyError();return}}if(typeof i.closeBtnEnable=="undefined"){i.closeBtnEnable="y"}if(typeof i.closeBtnEnable=="string"&&i.closeBtnEnable.toLowerCase()=="y"){if(typeof i.closeBtnPosition=="string"&&i.closeBtnPosition.toLowerCase()=="left"){AdPieAdView.addCloseButton(d,f,16,16,"left")}else{AdPieAdView.addCloseButton(d,f,16,16,"right")}}i.notifySuccess()}catch(g){AdPieCommon.log("createFloating",g.name+": "+g.message);i.notifyError()}},createInterstitial:function(i,j,k){try{k=k||{};if(!AdPieAdView.checkIntersSize(i.width,i.height)){AdPieCommon.log("createInterstitial","Check your screen size!");i.notifyError();return}AdPieAdView.removeDivFromId(j);var g=document.createElement("div");g.id=j;g.style.display="block";g.style.border="none";g.style.width="100%";g.style.height="100%";g.style.position="fixed";g.style.zIndex=AdPieAdView.interstitialzIndex;g.style.margin="0px";g.style.padding="0px";g.style.left="0px";g.style.top="0px";g.style.backgroundColor="transparent";g.style.overflow="auto";AdPieCommon.body().appendChild(g);var h=document.createElement("div");h.style.display="block";h.style.border="none";h.style.width="100%";h.style.height="100%";h.style.position="relative";h.style.margin="0px";h.style.padding="0px";h.style.left="0px";h.style.top="0px";h.style.cursor="pointer";if(typeof i.bgColorEnable=="undefined"){i.bgColorEnable="y"}if(typeof i.bgColorEnable=="string"){if(i.bgColorEnable.toLowerCase()=="y"){try{h.style.opacity="0.6";h.style.filter="alpha(opacity=60);";h.style.background="#000000"}catch(d){}}}g.appendChild(h);h.onclick=function(){AdPieAdView.removeDiv(g)};var b=document.createElement("div");b.style.display="block";b.style.border="none";b.style.width=i.width+"px";b.style.height=i.height+"px";g.appendChild(b);AdPieAdView.setDivPosition(b,"center","center");var c=document.createElement("iframe");c.id="iframe_"+j;c.name="iframe_"+j+"_"+new Date().getTime();c.style.display="block";c.style.border="none";c.frameBorder=0;c.style.width="100%";c.style.height="100%";c.style.padding="0px";c.scrolling="no";c.style.overflow="hidden";if(k.url){c.src=k.url;b.appendChild(c)}else{if(k.adm){var a=AdPieAdView.convertAd(k.adm);AdPieCommon.log("createInterstitial","convert Adm:"+a);b.appendChild(c);AdPieAdView.writeToIframe(c,a)}else{i.notifyError();return}}var f=function(){if(!AdPieAdView.checkIntersSize(i.width,i.height)){AdPieAdView.removeDiv(g)}else{}};AdPieCommon.addEvent(window,"resize",f);AdPieCommon.addEvent(window,"onorientationchange",f);if(typeof i.closeBtnEnable=="undefined"){i.closeBtnEnable="y"}if(typeof i.closeBtnEnable=="string"&&i.closeBtnEnable.toLowerCase()=="y"){if(typeof i.closeBtnPosition=="string"&&i.closeBtnPosition.toLowerCase()=="left"){AdPieAdView.addCloseButton(j,c,40,40,"left")}else{AdPieAdView.addCloseButton(j,c,40,40,"right")}}if(typeof i.autoCloseTime=="number"){if(i.autoCloseTime==0){}else{setTimeout(function(){AdPieAdView.removeDiv(g)},i.autoCloseTime*1000)}}else{setTimeout(function(){AdPieAdView.removeDiv(g)},20000)}i.notifySuccess()}catch(d){AdPieCommon.log("createInterstitial",d.name+": "+d.message);i.notifyError()}}};AdPieAdController&&AdPieAdController.init();