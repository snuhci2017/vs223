var QuizBuild = (function (p, f, e) { var i = "http://localhost:53130/", a = "http://hankookquiz.azurewebsites.net/", n = "QuizProgress.js", j = "TypeQuizP.js", c = "QuizProgress2.js", h = "PointQuizP.js"; function k(q) { switch (q) { case "InjectionID": return ((location.href.split("?")[0]).split("/"))[((location.href.split("?")[0]).split("/")).length - 1]; default: return location.href } } function b() { try { if (f("#quiz_generator").attr("src").search("localhost") === -1) { return a } else { return i } } catch (q) { return a } } function l(q) { switch (q) { case "Script": return b() + "Scripts/quiz/"; case "DataScript": return b() + "Scripts/quizdata_js/"; case "Css": return b() + "Content/"; case "renderCss": return b() + "Content/quiz/"; case "renderIcon": return b() + "Content/icons/"; default: return b() } } function d(r, q) { switch (r) { case 1: f.getScript(l("DataScript") + q + ".js").done(function () { g("type") }); break; case 2: f.getScript(l("DataScript") + q + ".js").done(function () { g("point") }); break; default: break } } function m() { f.getJSON(l("") + "/api/QuizRet?LINK_ID=" + k("InjectionID") + "&callback=?", function () { }).done(function (q) { if (q.QuizOnOff) { d(q.QuizCategory, q.QuizKey) } else { f("#quiz_widget_div").remove() } }).error() } function g(q) { switch (q) { case "type": if (window.quiz_title != e) { f.getScript(l("Script") + n).done(o) } else { f.getScript(l("Script") + j).done(o) } break; case "point": if (window.quiz_title != e) { f.getScript(l("Script") + c).done(o) } else { f.getScript(l("Script") + h).done(o) } break; default: break } } function o() { console.log("QuizBuild!!!") } p.load = function () { m() }; p.url = function (q) { return l(q) }; return p })(window.QuizBuild || {}, jQuery); QuizBuild.load();